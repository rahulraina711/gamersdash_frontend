(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{233:function(e,t,c){},254:function(e,t,c){},258:function(e,t){},260:function(e,t){},273:function(e,t){},275:function(e,t){},303:function(e,t){},304:function(e,t){},309:function(e,t){},311:function(e,t){},318:function(e,t){},337:function(e,t){},367:function(e,t,c){},368:function(e,t,c){},369:function(e,t,c){},370:function(e,t,c){},375:function(e,t,c){},376:function(e,t,c){},377:function(e,t,c){},378:function(e,t,c){},379:function(e,t,c){},380:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(18),s=c.n(n),r=c(29),i=c(31),o=c(37),l=Object(r.b)("userAdded"),u=Object(r.b)("userRemoved"),d=(Object(r.b)("addToCart"),Object(r.c)({user:{auth:!1}},{userAdded:function(e,t){e.user=Object(o.a)(Object(o.a)({},e.user),{},{id:t.payload.id,name:t.payload.name,profilePic:t.payload.profilePic,auth:!0})},userRemoved:function(e,t){e.user={auth:!1,postDeleted:!1}}})),j=Object(r.b)("addToCart"),b=Object(r.b)("removeFromCart"),p=Object(r.b)("setCartTotal"),O=Object(r.b)("incTotal"),m=Object(r.b)("decTotal"),h=Object(r.c)({cart:[],total:0},{addToCart:function(e,t){e.cart.push(t.payload.id)},removeFromCart:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{cart:e.cart.filter((function(e){return e!==t.payload.id}))})},setCartTotal:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{total:t.payload.total})},incTotal:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{total:e.total+t.payload.price})},decTotal:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{total:e.total-t.payload.price})}}),f=Object(i.c)({user:d,cart:h});var x=c(17),v=c(23),g=c(26),k=c(8),y=(c(233),c(215)),N=c(426),w=c(427),S=c.p+"static/media/logo.56143542.png",C=c(2);var _=function(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(a.useState)(!0),c=Object(k.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)(!1),d=Object(k.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(),O=Object(k.a)(p,2),m=O[0],h=O[1],f=Object(v.f)();Object(a.useEffect)((function(){I()}),[]);var _=function(){h(null)};function I(){s(!0),b(!1),l(!1)}return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"nav-bar",children:[Object(C.jsxs)("div",{className:"first",children:[Object(C.jsx)("div",{className:"logo",children:Object(C.jsx)("a",{href:"/",children:Object(C.jsx)("img",{src:S,alt:"logo"})})}),e.auth&&Object(C.jsx)("div",{className:"nav-links",onClick:function(e){h(e.currentTarget)},children:Object(C.jsx)(w.a,{id:"profile",alt:"Profile Pic",src:e.profilePic})}),Object(C.jsxs)(y.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:_,children:[Object(C.jsxs)("label",{style:{padding:15},children:["Hello ",null===e||void 0===e?void 0:e.name]}),Object(C.jsx)(N.a,{onClick:function(){f.push("/user/"+e.id)},children:"My account"}),Object(C.jsx)(N.a,{onClick:function(){_(),localStorage.removeItem("auth_token"),I(),f.push("/")},children:"Logout"})]})]}),e.auth&&Object(C.jsx)("div",{className:"second",children:Object(C.jsxs)("div",{className:"nav-links",children:[n?Object(C.jsx)(g.b,{className:"active",to:"/games",children:"Game DB"}):Object(C.jsx)(g.b,{to:"/games",onClick:I,children:"Game DB"}),o?Object(C.jsx)(g.b,{className:"active",to:"/store",children:"Store"}):Object(C.jsx)(g.b,{to:"/store",onClick:function(){s(!1),b(!1),l(!0)},children:"Store"}),j?Object(C.jsx)(g.b,{className:"active",to:"/social",children:"Social"}):Object(C.jsx)(g.b,{to:"/social",onClick:function(){s(!1),b(!0),l(!1)},children:"Social"})]})})]})})},I=c(6),A=c.n(I),T=c(12),D=c(205),P=c(15),E=c.n(P),z=(c(254),"https://gamers-dash.herokuapp.com"),L="iajbfakncaicubackajbcahcvisrjngf74t509rwijf2398u329h9v398h3298j",R="https://api.rawg.io/api",F="b3f76a2d099f40e1abecff43907a0c41",q=(new Date).getFullYear(),U=function(){var e=(new Date).getMonth()+1;return e<10?"0".concat(e):e}(),G=function(){var e=(new Date).getDate();return e<10?"0".concat(e):e}(),B="".concat(q,"-").concat(U,"-").concat(G),M="".concat(q-1,"-").concat(U,"-").concat(G),H="".concat(q+1,"-").concat(U,"-").concat(G),Y=("/games?key=".concat(F,"&dates=").concat(M,",").concat(B,"&ordering=-rating&page_size=15"),"/games?key=".concat(F,"&dates=").concat(B,",").concat(H,"&ordering=-added&page_size=15")),J=("/games?key=".concat(F,"&dates=").concat(M,",").concat(B,"&ordering=-released&page_size=15"),c(206)),K=c.n(J),Q=c(415),V=c(423),W=c.p+"static/media/im1.c013965a.png",X=c.p+"static/media/im2.511e948e.png",Z=c.p+"static/media/im3.0b36dfbe.png",$=function(){return Object(C.jsxs)(V.a,{children:[Object(C.jsxs)(V.a.Item,{children:[Object(C.jsx)("img",{className:"d-block w-100 h-50",src:W,alt:"First slide"}),Object(C.jsxs)(V.a.Caption,{children:[Object(C.jsx)("h3",{children:"A Latest Game Database"}),Object(C.jsx)("p",{children:"Acces the details about upcoming games with powered by rawg.io api."})]})]}),Object(C.jsxs)(V.a.Item,{children:[Object(C.jsx)("img",{className:"d-block w-100",src:X,alt:"Second slide"}),Object(C.jsxs)(V.a.Caption,{children:[Object(C.jsx)("h3",{children:"The e-comm store"}),Object(C.jsx)("p",{children:"An e-commerce store that sells only verified hardware from partnership with trusted sellers only"})]})]}),Object(C.jsxs)(V.a.Item,{children:[Object(C.jsx)("img",{className:"d-block w-100",src:Z,alt:"Third slide"}),Object(C.jsxs)(V.a.Caption,{children:[Object(C.jsx)("h3",{children:"A Community Platform"}),Object(C.jsx)("p",{children:"A Social media platform for sharing insights and news about upcoming events , meetups , competitive matches , etc."})]})]})]})};function ee(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(a.useState)(!0),c=Object(k.a)(t,2),n=c[0],s=c[1],r=Object(x.b)(),i=Object(v.f)();function o(){return d.apply(this,arguments)}function d(){return(d=Object(T.a)(A.a.mark((function e(){var t,c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){return(a=Object(T.a)(A.a.mark((function e(){var c,a,n,o,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=K.a.verify(t,L),e.next=4,E.a.get(z+"/user/"+c.userId);case 4:a=e.sent,n=a.data,o=n.name,d=n.profilePic,r(l({id:c.userId,name:o,profilePic:d})),s(!1),i.push("/games"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error",e.t0),r(u()),s(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},c=function(){return a.apply(this,arguments)},t=localStorage.getItem("auth_token"),c();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){o()}),[]);var j=function(){var e=Object(T.a)(A.a.mark((function e(t){var c,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),c=t.tokenObj.id_token,a=E.a.create({baseURL:z+"/user",headers:{Authorization:c}}),e.next=5,a.get("/signin");case 5:n=e.sent,localStorage.setItem("auth_token",n.data.authToken),o(),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{className:"main-screen",children:Object(C.jsxs)("div",{className:"user",children:[n&&Object(C.jsx)(Q.a,{color:"secondary"}),Object(C.jsx)("h1",{children:"Gamer's Dash"}),Object(C.jsx)("h3",{children:"A one-stop web App for the Indian Gaming Community"}),Object(C.jsx)("h4",{children:'Click on the "Hop In" button to enter the whole new experience'}),!1===e.auth&&Object(C.jsx)("div",{className:"signing",children:Object(C.jsx)(D.GoogleLogin,{clientId:"770137991345-qd5ralem02mqmmekkukfqp4nnhrc47v3.apps.googleusercontent.com",buttonText:"Hop In",onSuccess:j,onFailure:function(e){console.log("Google Login Failed",e),s(!1)},cookiePolicy:"single_host_origin"})}),Object(C.jsx)("div",{className:"advert-c",children:Object(C.jsx)($,{})})]})})}var te=c(32),ce=(c(367),c(417)),ae=c(425),ne=(c(368),c(416));function se(e){var t=e.id,c=e.name,n=e.image,s=e.rating,r=e.ss,i=(e.platforms,e.released),o=Object(a.useState)(),l=Object(k.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!0),b=Object(k.a)(j,2),p=b[0],O=b[1];function m(){return(m=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.rawg.io/api/games/"+t+"?key=b3f76a2d099f40e1abecff43907a0c41");case 2:c=e.sent,d(c.data.description),O(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){m.apply(this,arguments)}(t)}),[]),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("div",{className:"main-container",children:[Object(C.jsx)("div",{className:"name-r",children:c}),Object(C.jsx)("img",{className:"image-r",src:n,alt:"poster"}),Object(C.jsxs)("div",{className:"rel-r",children:["Release Date: ",i]}),Object(C.jsx)("div",{className:"desc-r",children:p?Object(C.jsx)(ne.a,{color:"secondary"}):Object(C.jsx)("div",{dangerouslySetInnerHTML:{__html:u},id:"description"})}),Object(C.jsx)("div",{className:"ss-r",children:r.map((function(e,t){return Object(C.jsx)("img",{className:"ss-im",src:e.image,alt:"sc_sh"},t)}))}),Object(C.jsxs)("div",{className:"rating-r",children:["Rating: ",s]})]})})}function re(e){var t=e.name,c=e.image,n=e.id,s=e.genres,r=e.ss,i=e.rating,o=e.platforms,l=e.released,u=Object(a.useState)(!1),d=Object(k.a)(u,2),j=d[0],b=d[1],p=function(){b(!1)},O=Object(C.jsxs)("div",{className:"modal-r-r",children:[Object(C.jsx)(ce.a,{id:"close-btn-m",variant:"contained",color:"secondary",onClick:p,children:"Close"}),Object(C.jsx)(se,{name:t,image:c,id:n,genres:s,ss:r,rating:i,platforms:o,released:l})]});return Object(C.jsxs)("div",{className:"game-card",children:[Object(C.jsx)("div",{className:"game-image",children:Object(C.jsx)("img",{src:c,alt:"bacDrop",onClick:function(){b(!0)}})}),Object(C.jsx)("div",{className:"game-title",children:t}),Object(C.jsx)(ae.a,{id:"game-modal-id",open:j,onClose:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:O})]})}c(369);function ie(){var e=Object(x.c)((function(e){return e.user.user})),t=Object(v.f)(),c=Object(a.useState)([]),n=Object(k.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(""),o=Object(k.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!0),j=Object(k.a)(d,2),b=j[0],p=j[1];Object(a.useEffect)((function(){O("".concat(R).concat(Y))}),[]);var O=function(){var e=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(t);case 2:return c=e.sent,e.t0=r,e.t1=[],e.t2=Object(te.a)(s),e.t3=te.a,e.next=9,c.data.results;case 9:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=e.t1.concat.call(e.t1,e.t2,e.t5),(0,e.t0)(e.t6),u(c.data.next),console.log(c.data),p(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"games-parent",children:[Object(C.jsx)("div",{className:"games-display-area",children:e.auth?Object(te.a)(s).map((function(e,t){return Object(C.jsx)(re,{name:e.name,image:e.background_image,id:e.id,genres:e.genres,rating:e.rating,platforms:e.platforms,released:e.released,ss:e.short_screenshots},e.id)})):t.push("/")}),b&&Object(C.jsx)(Q.a,{color:"secondary"}),!b&&Object(C.jsx)(ce.a,{variant:"contained",color:"primary",onClick:function(){p(!0),O(l)},children:"Load More"})]})}c(370);var oe=c(418),le=c(419),ue=c(420);function de(e){var t=e.comment,c=Object(a.useState)({}),n=Object(k.a)(c,2),s=n[0],r=n[1];function i(){return(i=Object(T.a)(A.a.mark((function e(){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(z+"/user/"+t.userId);case 2:c=e.sent,r(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(C.jsxs)("div",{className:"indi-comment",children:[Object(C.jsxs)("div",{className:"comment-owner",children:[Object(C.jsx)("img",{id:"owner-pic",src:s.profilePic,alt:"owner_pic"}),Object(C.jsx)(g.b,{className:"owner-name",to:"/user/"+s._id,children:s.name})]}),Object(C.jsx)("div",{className:"comment-data",children:t.comment})]})}var je=c(39);function be(e){var t=e.post,c=Object(x.c)((function(e){return e.user.user})),n=Object(a.useState)([]),s=Object(k.a)(n,2),r=(s[0],s[1]),i=Object(a.useState)({}),o=Object(k.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)([]),j=Object(k.a)(d,2),b=j[0],p=j[1],O=Object(a.useState)(!1),m=Object(k.a)(O,2),h=m[0],f=m[1],v=Object(a.useState)(""),w=Object(k.a)(v,2),S=w[0],_=w[1],I=Object(a.useState)(t.comments.length),D=Object(k.a)(I,2),P=D[0],L=D[1],R=Object(a.useState)("primary"),F=Object(k.a)(R,2),q=F[0],U=F[1],G=Object(a.useState)(t.likes.length),B=Object(k.a)(G,2),M=B[0],H=B[1],Y=Object(a.useState)(),J=Object(k.a)(Y,2),K=J[0],Q=J[1],V=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}});Object(a.useEffect)((function(){!function(e){ae.apply(this,arguments)}(t.userId),function(e){re.apply(this,arguments)}(t.comments)}),[]);var W=function(){Q(null)};function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(T.a)(A.a.mark((function e(){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/posts/"+t._id);case 2:c=e.sent,console.log("here",c.data.likes),r(c.data.likes),H(c.data.likes.length);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.likes.includes(c.id)?U("secondary"):U("primary");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(z+"/user/"+t);case 2:c=e.sent,u(c.data),$();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("primary"!==q){e.next=8;break}return e.next=3,V.put("/likeops/"+t._id);case 3:e.sent,X(),U("secondary"),e.next=14;break;case 8:if("secondary"!==q){e.next=14;break}return e.next=11,V.put("/likeops/unlike/"+t._id);case 11:e.sent,X(),U("primary");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(T.a)(A.a.mark((function e(){var c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={comment:S},e.next=3,V.post("/comments/"+t._id,c);case 3:a=e.sent,p([].concat(Object(te.a)(b),[a.data])),L(P+1),_("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(T.a)(A.a.mark((function e(t){var c,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=0;case 2:if(!(a<t.length)){e.next=10;break}return e.next=5,E.a.get(z+"/comments/"+t[a]);case 5:n=e.sent,c.push(n.data);case 7:a++,e.next=2;break;case 10:console.log(c),p(c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(z+"/posts/"+t),e.next=3,V.delete("/posts/"+t);case 3:c=e.sent,console.table(c),window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=new Date(t.createdAt);function pe(){return(pe=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post(z+"/flag/"+t);case 2:c=e.sent,je.b.success(c.data.message),W();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:"landing-post",children:[Object(C.jsxs)("div",{className:"more-options",children:[Object(C.jsx)("div",{className:"date",children:be.toString().slice(0,15)}),Object(C.jsxs)("div",{className:"options",children:[Object(C.jsx)(oe.a,{onClick:function(e){Q(e.currentTarget)}}),Object(C.jsxs)(y.a,{id:"simple-menu",anchorEl:K,keepMounted:!0,open:Boolean(K),onClose:W,children:[Object(C.jsx)(N.a,{onClick:function(){return function(e){return pe.apply(this,arguments)}(t._id)},children:"Flag as fake / inappropriate"}),t.userId===c.id&&Object(C.jsx)(N.a,{onClick:function(){!function(e){ie.apply(this,arguments)}(t._id),W()},children:"Delete"})]})]})]}),Object(C.jsxs)("div",{className:"post-user-info",children:[Object(C.jsx)("img",{id:"post-user-image",alt:"user_image",src:l.profilePic}),Object(C.jsx)(g.b,{to:"/user/"+t.userId,children:l.name})]}),Object(C.jsx)("div",{className:"desc",children:t.desc}),Object(C.jsx)("img",{id:"post-image",src:z+"/"+t.postImage,alt:"post-lander"}),Object(C.jsx)("div",{className:"like-comment-event",children:Object(C.jsxs)("div",{className:"like-comment",children:[Object(C.jsxs)("div",{className:"like-count",children:[Object(C.jsx)(le.a,{color:q,onClick:function(){return ne.apply(this,arguments)}})," ",M]}),Object(C.jsxs)("div",{className:"comment-count",children:[Object(C.jsx)(ue.a,{color:"secondary",onClick:function(){f(!h)}})," ",P]})]})}),h&&Object(C.jsx)("div",{className:"comments-section",children:Object(te.a)(b).map((function(e){return Object(C.jsx)(de,{comment:e},e._id)}))}),Object(C.jsxs)("div",{className:"add-comment",children:[Object(C.jsxs)("div",{className:"user-info",children:[Object(C.jsx)("img",{id:"user-profile",alt:"u-profile",src:c.profilePic}),c.name]}),Object(C.jsxs)("div",{className:"comment-adding-area",children:[Object(C.jsx)("input",{className:"comment-box",placeholder:"Click here to write a comment",value:S,onChange:function(e){return _(e.target.value)}}),Object(C.jsx)(ce.a,{color:"secondary",variant:"contained",onClick:function(){return se.apply(this,arguments)},children:"Post"})]})]}),Object(C.jsx)(je.a,{toastOptions:{success:{style:{background:"green"}},error:{style:{background:"yellow"}}}})]},t._id)}var pe=c(210),Oe=c.n(pe),me=c(421);function he(){var e=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}}),t=Object(a.useState)(!0),c=Object(k.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(x.c)((function(e){return e.user})),d=Object(v.f)(),j=Object(a.useState)(!1),b=Object(k.a)(j,2),p=b[0],O=b[1],m=Object(a.useState)(""),h=Object(k.a)(m,2),f=h[0],g=h[1],y=Object(a.useState)(void 0),N=Object(k.a)(y,2),w=N[0],S=N[1],_=function(){O(!1)};function I(){return D.apply(this,arguments)}function D(){return(D=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(z+"/posts");case 2:t=e.sent,l(t.data),s(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return L.apply(this,arguments)}function L(){return(L=Object(T.a)(A.a.mark((function t(c){var a,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),(a=new FormData).append("desc",f),a.append("postImage",w),t.next=6,e.post(z+"/posts/",a);case 6:n=t.sent,_(),I(),console.log(n.data);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!1===u.auth?d.push("/"):I()}),[]);var R=Object(C.jsxs)("div",{className:"poster",children:[Object(C.jsxs)("form",{onSubmit:P,children:[Object(C.jsx)("textarea",{id:"description",type:"text",placeholder:"Enter some description here",value:f,onChange:function(e){return g(e.target.value)}}),Object(C.jsx)("input",{id:"upload",type:"file",onChange:function(e){console.log(e.target.files[0]),S(e.target.files[0])}})]}),Object(C.jsx)("button",{className:"btn-upload",type:"submit",onClick:P,children:"Upload Post"}),Object(C.jsx)("button",{className:"btn-cancel",type:"button",onClick:_,children:"Cancel"})]});return Object(C.jsxs)("div",{children:[n?Object(C.jsx)(ne.a,{color:"secondary"}):Object(C.jsx)("div",{className:"main-posts-area",children:function(){var e=Object(te.a)(o);return(e=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))).map((function(e){return Object(C.jsx)(be,{post:e},e._id)}))}()}),Object(C.jsxs)("div",{className:"add-post-btn",title:"Add a new POST",children:[Object(C.jsx)(me.a,{color:"primary","aria-label":"add",onClick:function(){O(!0)},children:Object(C.jsx)(Oe.a,{})}),Object(C.jsx)(ae.a,{open:p,onClose:_,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:R})]})]})}var fe=c(211),xe=(c(375),c(376),c(422)),ve=c(94);c(377);function ge(e){var t=e.id,c=e.image,n=e.name,s=e.description,r=e.price,i=e.countInStock,o=Object(a.useState)(!1),l=Object(k.a)(o,2),u=l[0],d=l[1],b=Object(x.c)((function(e){return e.cart.cart})),p=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}});Object(a.useEffect)((function(){b.includes(t)?d(!0):d(!1)}),[]);var O=Object(x.b)();function m(){return(m=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.includes(t)){e.next=9;break}return O(j({id:t})),e.next=4,p.post("/orders",{productId:t});case 4:e.sent,d(!0),je.b.success("item added to cart"),e.next=10;break;case 9:je.b.error("item already in cart");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:"prod-card",children:[Object(C.jsx)("div",{className:"prod-image",children:Object(C.jsx)("img",{className:"fit-pic",src:z+"/"+c,alt:"image_prod"})}),Object(C.jsxs)("div",{className:"prod-details",children:[Object(C.jsx)("div",{className:"prod-name",children:n}),Object(C.jsx)("div",{className:"prod-description",children:Object(C.jsx)("ul",{children:s.split(".").map((function(e,t){return Object(C.jsx)("li",{children:e},t)}))})})]}),Object(C.jsxs)("div",{className:"cart-fxns",children:[Object(C.jsxs)("div",{className:"price",children:["Price: \u20b9",r]}),Object(C.jsxs)("div",{className:"in-stock",children:["In Stock : ",i]}),Object(C.jsx)("button",{className:"a2c",onClick:function(){return function(e){return m.apply(this,arguments)}(t)},children:u?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:"Added To Cart"}),Object(C.jsx)(ve.a,{size:25})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:"Add To cart"}),Object(C.jsx)(xe.a,{})]})})]}),Object(C.jsx)(je.a,{toastOptions:{success:{style:{background:"green"}},error:{style:{background:"yellow"}}}})]})}function ke(e){var t=e.id,c=e.image,n=e.name,s=e.description,r=e.price,i=e.countInStock,o=Object(a.useState)(!1),l=Object(k.a)(o,2),u=l[0],d=l[1],b=Object(x.c)((function(e){return e.cart.cart})),p=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}}),O=Object(a.useState)(!1),m=Object(k.a)(O,2),h=m[0],f=m[1],v=function(){f(!1)};Object(a.useEffect)((function(){b.includes(t)?d(!0):d(!1)}),[]);var g=Object(x.b)(),y=Object(C.jsxs)("div",{className:"modal-r-r",children:[Object(C.jsx)("button",{className:"back-btn",onClick:v,style:{padding:"10px",background:"yellow"},children:"Back"}),Object(C.jsx)(ge,{id:t,image:c,name:n,description:s,price:r,countInStock:i})]});function N(){return(N=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.includes(t)){e.next=9;break}return g(j({id:t})),e.next=4,p.post("/orders",{productId:t});case 4:e.sent,d(!0),je.b.success("item added to cart"),e.next=10;break;case 9:je.b.error("item already in cart");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:"prod-card",children:[Object(C.jsx)("div",{className:"prod-image",children:Object(C.jsx)("img",{className:"fit-pic",src:z+"/"+c,alt:"image_prod"})}),Object(C.jsx)("div",{className:"prod-details",children:Object(C.jsxs)("div",{className:"prod-name",onClick:function(){f(!0)},children:[n.slice(0,45),"..."]})}),Object(C.jsxs)("div",{className:"cart-fxns",children:[Object(C.jsxs)("div",{className:"price",children:["Price: \u20b9",r]}),Object(C.jsxs)("div",{className:"in-stock",children:["In Stock : ",i]}),Object(C.jsx)("button",{className:"a2c",onClick:function(){return function(e){return N.apply(this,arguments)}(t)},children:u?Object(C.jsx)(ve.a,{size:25}):Object(C.jsx)(xe.a,{})})]}),Object(C.jsx)(je.a,{toastOptions:{success:{style:{background:"green"}},error:{style:{background:"yellow"}}}}),Object(C.jsx)(ae.a,{id:"game-modal-id",open:h,onClose:v,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:y})]})}var ye=c(213),Ne=c(212);function we(){var e=Object(x.c)((function(e){return e.cart.cart})),t=Object(x.b)(),c=Object(v.f)(),n=Object(a.useState)([]),s=Object(k.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(!0),l=Object(k.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(""),p=Object(k.a)(b,2),O=p[0],m=p[1],h=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}});function f(){return(f=Object(T.a)(A.a.mark((function c(){var a,n,s,r;return A.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,h.get("/orders");case 2:a=c.sent,n=Object(fe.a)(a.data.doc);try{for(n.s();!(s=n.n()).done;)r=s.value,e.includes(r.productId._id)?console.log("in cart"):t(j({id:r.productId._id}))}catch(i){n.e(i)}finally{n.f()}case 5:case"end":return c.stop()}}),c)})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i([]),e.next=3,E.a.get(t);case 3:c=e.sent,i(c.data),d(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){f.apply(this,arguments)}(),g(z+"/products")}),[]),Object(C.jsx)("div",{className:"main-landing-page",children:Object(C.jsxs)("div",{className:"store-main",children:[Object(C.jsxs)("div",{className:"store-nav",children:[Object(C.jsxs)("div",{className:"search",children:[Object(C.jsx)("div",{className:"search-icon",children:Object(C.jsx)(Ne.a,{size:25})}),Object(C.jsx)("input",{id:"search-bar",placeholder:"search",value:O,onChange:function(e){return function(e){d(!0),m(e.target.value),O?setTimeout((function(){g(z+"/search?key="+O)}),500):g(z+"/products")}(e)}})]}),Object(C.jsxs)("div",{className:"cart-stats",children:[Object(C.jsx)(ye.a,{size:50,onClick:function(){c.push("/cart")}}),Object(C.jsx)("div",{className:"items-in-cart",children:e.length||"0"})]})]}),u&&Object(C.jsx)(Q.a,{color:"secondary"}),Object(C.jsx)("div",{className:"store",children:Object(C.jsx)("div",{className:"products-page",children:function(){var e=Object(te.a)(r);return(e=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))).map((function(e){return Object(C.jsx)(ke,{id:e._id,name:e.name,image:e.productImage,description:e.description,price:e.price,countInStock:e.countInStock},e._id)}))}()})})]})})}c(378);var Se=c(424);function Ce(e){var t=e.id,c=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}}),n=Object(x.c)((function(e){return e.user.user})),s=Object(a.useState)(""),r=Object(k.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)(""),u=Object(k.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(""),p=Object(k.a)(b,2),O=p[0],m=p[1],h=Object(a.useState)(""),f=Object(k.a)(h,2),v=f[0],g=f[1],y=Object(a.useState)({}),N=Object(k.a)(y,2),w=N[0],S=N[1],_=Object(a.useState)(),I=Object(k.a)(_,2),D=I[0],P=I[1],L=Object(a.useState)(!1),R=Object(k.a)(L,2),F=R[0],q=R[1],U=function(){q(!1)};function G(){return(G=Object(T.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:d,about:v,occupation:O},e.next=3,c.patch("/user/"+i,t);case 3:a=e.sent,console.table(a),M(i),U();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){M(t)}),[]);var B=Object(C.jsx)("div",{className:"modal-body",children:Object(C.jsxs)("div",{className:"modal-content",children:[Object(C.jsx)("div",{className:"n-r",children:Object(C.jsx)(Se.a,{label:"Display Name",variant:"outlined",value:d,onChange:function(e){return j(e.target.value)}})}),Object(C.jsx)("div",{className:"a-r",children:Object(C.jsx)(Se.a,{label:"About",variant:"outlined",value:v,onChange:function(e){return g(e.target.value)}})}),Object(C.jsx)("div",{className:"o-r",children:Object(C.jsx)(Se.a,{label:"Occupation",variant:"outlined",value:O,onChange:function(e){return m(e.target.value)}})}),Object(C.jsxs)("div",{className:"btn-r",children:[Object(C.jsx)(ce.a,{variant:"outlined",color:"primary",onClick:function(){return G.apply(this,arguments)},children:"Save"}),Object(C.jsx)(ce.a,{variant:"outlined",color:"secondary",onClick:U,children:"Cancel"})]})]})});function M(e){return H.apply(this,arguments)}function H(){return(H=Object(T.a)(A.a.mark((function e(t){var c,a,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(z+"/user/"+t);case 2:s=e.sent,S(s.data),o(s.data._id),j(s.data.name),g(null===(c=s.data)||void 0===c?void 0:c.about),m(null===(a=s.data)||void 0===a?void 0:a.occupation),console.table(w,n),console.log(n.id,s.data._id),n.id===s.data._id?P(!0):P(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsx)("div",{className:"main-view",children:Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)("img",{src:w.profilePic,alt:"profile_Pic"}),Object(C.jsxs)("div",{className:"profile-info",children:[Object(C.jsxs)("div",{className:"user-name",children:["Display Name: ",Object(C.jsx)("div",{className:"name-r",children:w.name})]}),Object(C.jsxs)("div",{className:"user-about",children:["About You: ",Object(C.jsx)("div",{className:"about-r",children:w.about})]}),Object(C.jsxs)("div",{className:"user-occupation",children:["Your Occupation: ",Object(C.jsx)("div",{className:"occupation-r",children:w.occupation})]})]}),D&&Object(C.jsxs)("div",{className:"editing-r",children:[Object(C.jsx)(ce.a,{onClick:function(){q(!0)},children:"Edit Profile"}),Object(C.jsx)(ae.a,{open:F,onClose:U,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:B})]})]})})}function _e(){var e=Object(v.g)().search.split("=")[1];function t(){return(t=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("http://localhost:3100/calendar",{code:t});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){t.apply(this,arguments)}(e)}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("h1",{children:e})})}c(379);var Ie=c(214),Ae=c(127);function Te(e){var t=e.order,c=Object(a.useState)(!1),n=Object(k.a)(c,2),s=n[0],r=n[1],i=Object(x.b)(),o=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}}),l=Object(a.useState)(t.quantity),u=Object(k.a)(l,2),d=u[0],j=u[1];function p(){j(d+1),function(e){f.apply(this,arguments)}(t._id),i(O({price:t.productId.price}))}function h(){j(d-1),function(e){v.apply(this,arguments)}(t._id),i(m({price:t.productId.price}))}function f(){return(f=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o.patch(z+"/orders/"+t,{quantity:d+1})}catch(c){console.table(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o.patch(z+"/orders/"+t,{quantity:d-1})}catch(c){console.table(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o.delete(z+"/orders/"+t._id),i(b({id:t.productId._id})),i(m({price:d*t.productId.price})),r(!0)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return!s&&Object(C.jsxs)("div",{className:"order-comp",children:[Object(C.jsx)("img",{className:"o-img",src:z+"/"+t.productId.productImage,alt:"order_image"}),Object(C.jsx)("div",{className:"o-name",children:t.productId.name}),Object(C.jsxs)("div",{className:"o-quan",children:[Object(C.jsx)("div",{className:"q-rem",children:Object(C.jsx)(Ae.b,{onClick:function(){return d>1&&h()}})}),Object(C.jsx)("div",{className:"q",children:d}),Object(C.jsx)("div",{className:"q-add",children:Object(C.jsx)(Ae.a,{onClick:function(){return d<10&&p()}})})]}),Object(C.jsx)("div",{className:"o-price",children:"\u20b9 "+t.productId.price}),Object(C.jsx)("div",{className:"o-delete",children:Object(C.jsx)(Ie.a,{size:25,onClick:function(){return g.apply(this,arguments)}})})]})}function De(){var e=Object(a.useState)([]),t=Object(k.a)(e,2),c=t[0],n=t[1],s=Object(x.c)((function(e){return e.cart.total})),r=Object(x.b)(),i=E.a.create({baseURL:z,headers:{Authorization:localStorage.getItem("auth_token")}});function o(){return(o=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/orders");case 2:t=e.sent,n(t.data.doc),r(p({total:t.data.cartTotal}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/orders");case 2:t=e.sent,u(t.data.cartTotal);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=Object(T.a)(A.a.mark((function e(t){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.post(z+"/payment",{amount:t});case 2:c=e.sent,window.open(c.data.url);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(C.jsx)("div",{className:"fb-h",children:Object(C.jsxs)("div",{className:"fb-c",children:[c.length?Object(C.jsx)("div",{className:"cart",children:Object(te.a)(c).map((function(e){return Object(C.jsx)(Te,{order:e},e._id)}))}):Object(C.jsx)("div",{className:"cart",children:"Seems quite empty here...."}),Object(C.jsxs)("div",{className:"checkout-area",children:[Object(C.jsx)("button",{className:"checkout",onClick:function(){return l.apply(this,arguments)},children:"Proceed to checkout"}),Object(C.jsxs)("div",{className:"t-amount",children:["Total billable amount : ",Object(C.jsxs)("div",{className:"amount",children:["\u20b9 ",s]})]})]})]})})}var Pe=function(){function e(){var e=Object(v.h)().id;return Object(C.jsx)(Ce,{id:e})}return Object(C.jsxs)(g.a,{children:[Object(C.jsx)(_,{}),Object(C.jsxs)(v.c,{children:[Object(C.jsx)(v.a,{exact:!0,path:"/",children:Object(C.jsx)(ee,{})}),Object(C.jsx)(v.a,{path:"/games",children:Object(C.jsx)(ie,{})}),Object(C.jsx)(v.a,{path:"/social",children:Object(C.jsx)(he,{})}),Object(C.jsx)(v.a,{path:"/store",children:Object(C.jsx)(we,{})}),Object(C.jsx)(v.a,{path:"/user/:id",children:Object(C.jsx)(e,{})}),Object(C.jsx)(v.a,{path:"/auth/success",children:Object(C.jsx)(_e,{})}),Object(C.jsx)(v.a,{path:"/cart",children:Object(C.jsx)(De,{})})]})]})},Ee=Object(r.a)({reducer:f});s.a.render(Object(C.jsx)(x.a,{store:Ee,children:Object(C.jsx)(Pe,{})}),document.getElementById("root"))}},[[380,1,2]]]);
//# sourceMappingURL=main.0c01a505.chunk.js.map