(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{223:function(e,t,c){},244:function(e,t,c){},248:function(e,t){},250:function(e,t){},263:function(e,t){},265:function(e,t){},293:function(e,t){},294:function(e,t){},299:function(e,t){},301:function(e,t){},308:function(e,t){},327:function(e,t){},357:function(e,t,c){},358:function(e,t,c){},359:function(e,t,c){},360:function(e,t,c){},365:function(e,t,c){},366:function(e,t,c){},367:function(e,t,c){},368:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(15),s=c.n(n),r=c(40),i=c(30),o=c(118),l=Object(r.b)("userAdded"),u=Object(r.b)("userRemoved"),d=(Object(r.b)("addToCart"),Object(r.c)({user:{auth:!1}},{userAdded:function(e,t){e.user=Object(o.a)(Object(o.a)({},e.user),{},{id:t.payload.id,name:t.payload.name,profilePic:t.payload.profilePic,auth:!0})},userRemoved:function(e,t){e.user={auth:!1,postDeleted:!1}}})),j=Object(r.b)("addToCart"),b=Object(r.c)({cart:[]},{addToCart:function(e,t){e.cart.push(t.payload.id)}}),p=Object(i.c)({user:d,cart:b});var O=c(22),m=c(21),h=c(27),f=c(9),x=(c(223),c(205)),v=c(413),g=c(414),k=c.p+"static/media/logo.56143542.png",y=c(3);var N=function(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(a.useState)(!0),c=Object(f.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(f.a)(r,2),o=i[0],l=i[1],u=Object(a.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(),N=Object(f.a)(p,2),w=N[0],S=N[1],_=Object(m.f)(),C=function(){S(null)};return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"nav-bar",children:[Object(y.jsxs)("div",{className:"first",children:[Object(y.jsx)("div",{className:"logo",children:Object(y.jsx)("a",{href:"/",children:Object(y.jsx)("img",{src:k,alt:"logo"})})}),e.auth&&Object(y.jsx)("div",{className:"nav-links",onClick:function(e){S(e.currentTarget)},children:Object(y.jsx)(g.a,{id:"profile",alt:"Profile Pic",src:e.profilePic})}),Object(y.jsxs)(x.a,{id:"simple-menu",anchorEl:w,keepMounted:!0,open:Boolean(w),onClose:C,children:[Object(y.jsxs)("label",{style:{padding:15},children:["Hello ",null===e||void 0===e?void 0:e.name]}),Object(y.jsx)(v.a,{onClick:function(){_.push("/user/"+e.id)},children:"My account"}),Object(y.jsx)(v.a,{onClick:function(){C(),localStorage.removeItem("auth_token"),_.push("/")},children:"Logout"})]})]}),e.auth&&Object(y.jsx)("div",{className:"second",children:Object(y.jsxs)("div",{className:"nav-links",children:[n?Object(y.jsx)(h.b,{className:"active",to:"/games",children:"Game DB"}):Object(y.jsx)(h.b,{to:"/games",onClick:function(){s(!0),b(!1),l(!1)},children:"Game DB"}),o?Object(y.jsx)(h.b,{className:"active",to:"/store",children:"Store"}):Object(y.jsx)(h.b,{to:"/store",onClick:function(){s(!1),b(!1),l(!0)},children:"Store"}),j?Object(y.jsx)(h.b,{className:"active",to:"/social",children:"Social"}):Object(y.jsx)(h.b,{to:"/social",onClick:function(){s(!1),b(!0),l(!1)},children:"Social"})]})})]})})},w=c(8),S=c.n(w),_=c(14),C=c(198),I=c(18),D=c.n(I),A=(c(244),"https://gamers-dash.herokuapp.com"),E="iajbfakncaicubackajbcahcvisrjngf74t509rwijf2398u329h9v398h3298j",P="https://api.rawg.io/api",F="871b8db4c8c14c308a2a68ddd8621fad",z=(new Date).getFullYear(),T=function(){var e=(new Date).getMonth()+1;return e<10?"0".concat(e):e}(),L=function(){var e=(new Date).getDate();return e<10?"0".concat(e):e}(),R="".concat(z,"-").concat(T,"-").concat(L),M="".concat(z-1,"-").concat(T,"-").concat(L),U="".concat(z+1,"-").concat(T,"-").concat(L),B=("/games?key=".concat(F,"&dates=").concat(M,",").concat(R,"&ordering=-rating&page_size=15"),"/games?key=".concat(F,"&dates=").concat(R,",").concat(U,"&ordering=-added&page_size=15")),G=("/games?key=".concat(F,"&dates=").concat(M,",").concat(R,"&ordering=-released&page_size=15"),c(199)),q=c.n(G),H=c(402);function Y(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(a.useState)(!0),c=Object(f.a)(t,2),n=c[0],s=c[1],r=Object(O.b)(),i=Object(m.f)();function o(){return d.apply(this,arguments)}function d(){return(d=Object(_.a)(S.a.mark((function e(){var t,c,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){return(a=Object(_.a)(S.a.mark((function e(){var c,a,n,o,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=q.a.verify(t,E),e.next=4,D.a.get(A+"/user/"+c.userId);case 4:a=e.sent,n=a.data,o=n.name,d=n.profilePic,r(l({id:c.userId,name:o,profilePic:d})),s(!1),i.push("/games"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error",e.t0),r(u()),s(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},c=function(){return a.apply(this,arguments)},t=localStorage.getItem("auth_token"),c();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){o()}),[]);var j=function(){var e=Object(_.a)(S.a.mark((function e(t){var c,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),c=t.tokenObj.id_token,a=D.a.create({baseURL:A+"/user",headers:{Authorization:c}}),e.next=5,a.get("/signin");case 5:n=e.sent,localStorage.setItem("auth_token",n.data.authToken),o(),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"main-screen",children:[n&&Object(y.jsx)(H.a,{color:"secondary"}),!1===e.auth&&Object(y.jsx)("div",{className:"signing",children:Object(y.jsx)(C.GoogleLogin,{clientId:"770137991345-qd5ralem02mqmmekkukfqp4nnhrc47v3.apps.googleusercontent.com",buttonText:"Hop In",onSuccess:j,onFailure:function(e){console.log("Google Login Failed",e),s(!1)},cookiePolicy:"single_host_origin"})}),e.id?Object(y.jsx)("h1",{children:"hello"}):Object(y.jsx)("h1",{children:"you are not logged in"})]})}var J=c(36),K=(c(357),c(404)),Q=c(412),V=(c(358),c(403));function W(e){var t=e.id,c=e.name,n=e.image,s=e.rating,r=e.ss,i=(e.platforms,e.released),o=Object(a.useState)(),l=Object(f.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!0),b=Object(f.a)(j,2),p=b[0],O=b[1];function m(){return(m=Object(_.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://api.rawg.io/api/games/"+t);case 2:c=e.sent,d(c.data.description),O(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){m.apply(this,arguments)}(t)}),[]),Object(y.jsx)("div",{className:"container",children:Object(y.jsxs)("div",{className:"main-container",children:[Object(y.jsx)("div",{className:"name-r",children:c}),Object(y.jsx)("img",{className:"image-r",src:n,alt:"poster"}),Object(y.jsxs)("div",{className:"rel-r",children:["Release Date: ",i]}),Object(y.jsx)("div",{className:"desc-r",children:p?Object(y.jsx)(V.a,{color:"secondary"}):Object(y.jsx)("div",{dangerouslySetInnerHTML:{__html:u},id:"description"})}),Object(y.jsx)("div",{className:"ss-r",children:r.map((function(e,t){return Object(y.jsx)("img",{className:"ss-im",src:e.image,alt:"sc_sh"},t)}))}),Object(y.jsxs)("div",{className:"rating-r",children:["Rating: ",s]})]})})}function X(e){var t=e.name,c=e.image,n=e.id,s=e.genres,r=e.ss,i=e.rating,o=e.platforms,l=e.released,u=Object(a.useState)(!1),d=Object(f.a)(u,2),j=d[0],b=d[1],p=function(){b(!1)},O=Object(y.jsxs)("div",{className:"modal-r-r",children:[Object(y.jsx)(K.a,{variant:"contained",color:"secondary",onClick:p,children:"close"}),Object(y.jsx)(W,{name:t,image:c,id:n,genres:s,ss:r,rating:i,platforms:o,released:l})]});return Object(y.jsxs)("div",{className:"game-card",children:[Object(y.jsx)("div",{className:"game-image",children:Object(y.jsx)("img",{src:c,alt:"bacDrop",onClick:function(){b(!0)}})}),Object(y.jsx)("div",{className:"game-title",children:t}),Object(y.jsx)(Q.a,{open:j,onClose:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:O})]})}c(359);function Z(){var e=Object(O.c)((function(e){return e.user.user})),t=Object(m.f)(),c=Object(a.useState)([]),n=Object(f.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(""),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!0),j=Object(f.a)(d,2),b=j[0],p=j[1];Object(a.useEffect)((function(){h("".concat(P).concat(B))}),[]);var h=function(){var e=Object(_.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(t);case 2:return c=e.sent,e.t0=r,e.t1=[],e.t2=Object(J.a)(s),e.t3=J.a,e.next=9,c.data.results;case 9:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6=e.t1.concat.call(e.t1,e.t2,e.t5),(0,e.t0)(e.t6),u(c.data.next),console.log(c.data),p(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"games-parent",children:[Object(y.jsx)("div",{className:"games-display-area",children:e.auth?Object(J.a)(s).map((function(e,t){return Object(y.jsx)(X,{name:e.name,image:e.background_image,id:e.id,genres:e.genres,rating:e.rating,platforms:e.platforms,released:e.released,ss:e.short_screenshots},e.id)})):t.push("/")}),b&&Object(y.jsx)(H.a,{color:"secondary"}),!b&&Object(y.jsx)(K.a,{variant:"contained",color:"primary",onClick:function(){p(!0),h(l)},children:"Load More"})]})}c(360);var $=c(405),ee=c(406),te=c(407),ce=c(408);function ae(e){var t=e.comment,c=Object(a.useState)({}),n=Object(f.a)(c,2),s=n[0],r=n[1];function i(){return(i=Object(_.a)(S.a.mark((function e(){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(A+"/user/"+t.userId);case 2:c=e.sent,r(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(y.jsxs)("div",{className:"indi-comment",children:[Object(y.jsxs)("div",{className:"comment-owner",children:[Object(y.jsx)("img",{id:"owner-pic",src:s.profilePic,alt:"owner_pic"}),Object(y.jsx)("div",{className:"owner-name",children:s.name})]}),Object(y.jsx)("div",{className:"comment-data",children:t.comment})]})}function ne(e){var t=e.post,c=Object(O.c)((function(e){return e.user.user})),n=Object(a.useState)([]),s=Object(f.a)(n,2),r=(s[0],s[1]),i=Object(a.useState)({}),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)([]),j=Object(f.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),k=g[0],N=g[1],w=Object(a.useState)(""),C=Object(f.a)(w,2),I=C[0],E=C[1],P=Object(a.useState)(t.comments.length),F=Object(f.a)(P,2),z=F[0],T=F[1],L=Object(a.useState)("primary"),R=Object(f.a)(L,2),M=R[0],U=R[1],B=Object(a.useState)(t.likes.length),G=Object(f.a)(B,2),q=G[0],H=G[1],Y=Object(a.useState)(),Q=Object(f.a)(Y,2),V=Q[0],W=Q[1],X=D.a.create({baseURL:A,headers:{Authorization:localStorage.getItem("auth_token")}});Object(a.useEffect)((function(){!function(e){oe.apply(this,arguments)}(t.userId),function(e){de.apply(this,arguments)}(t.comments)}),[]);var Z=function(){W(null)};function ne(){return se.apply(this,arguments)}function se(){return(se=Object(_.a)(S.a.mark((function e(){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/posts/"+t._id);case 2:c=e.sent,console.log("here",c.data.likes),r(c.data.likes),H(c.data.likes.length);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return(ie=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.likes.includes(c.id)?U("secondary"):U("primary");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(_.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(A+"/user/"+t);case 2:c=e.sent,u(c.data),re();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("primary"!==M){e.next=8;break}return e.next=3,X.put("/likeops/"+t._id);case 3:e.sent,ne(),U("secondary"),e.next=14;break;case 8:if("secondary"!==M){e.next=14;break}return e.next=11,X.put("/likeops/unlike/"+t._id);case 11:e.sent,ne(),U("primary");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(_.a)(S.a.mark((function e(){var c,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={comment:I},e.next=3,X.post("/comments/"+t._id,c);case 3:a=e.sent,p([].concat(Object(J.a)(b),[a.data])),T(z+1),E("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(_.a)(S.a.mark((function e(t){var c,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=0;case 2:if(!(a<t.length)){e.next=10;break}return e.next=5,D.a.get(A+"/comments/"+t[a]);case 5:n=e.sent,c.push(n.data);case 7:a++,e.next=2;break;case 10:console.log(c),p(c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(_.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(A+"/posts/"+t),e.next=3,X.delete("/posts/"+t);case 3:c=e.sent,console.table(c),window.location.reload();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=new Date(t.createdAt);return Object(y.jsxs)("div",{className:"landing-post",children:[Object(y.jsxs)("div",{className:"more-options",children:[Object(y.jsx)("div",{className:"date",children:be.toString().slice(0,15)}),Object(y.jsxs)("div",{className:"options",children:[Object(y.jsx)($.a,{onClick:function(e){W(e.currentTarget)}}),Object(y.jsxs)(x.a,{id:"simple-menu",anchorEl:V,keepMounted:!0,open:Boolean(V),onClose:Z,children:[Object(y.jsx)(v.a,{on:!0,children:"Flag as fake / inappropriate"}),t.userId===c.id&&Object(y.jsx)(v.a,{onClick:function(){!function(e){je.apply(this,arguments)}(t._id),Z()},children:"Delete"})]})]})]}),Object(y.jsxs)("div",{className:"post-user-info",children:[Object(y.jsx)("img",{id:"post-user-image",alt:"user_image",src:l.profilePic}),Object(y.jsx)(h.b,{to:"/user/"+t.userId,children:l.name})]}),Object(y.jsx)("div",{className:"desc",children:t.desc}),Object(y.jsx)("img",{id:"post-image",src:A+"/"+t.postImage,alt:"post-lander"}),Object(y.jsxs)("div",{className:"like-comment-event",children:[Object(y.jsxs)("div",{className:"like-comment",children:[Object(y.jsxs)("div",{className:"like-count",children:[Object(y.jsx)(ee.a,{color:M,onClick:function(){return le.apply(this,arguments)}})," ",q]}),Object(y.jsxs)("div",{className:"comment-count",children:[Object(y.jsx)(te.a,{color:"primary",onClick:function(){N(!k)}})," ",z]})]}),"true"===t.isEvent&&Object(y.jsxs)(K.a,{className:"isEvent",variant:"contained",color:"primary",target:"_blank",rel:"noopener norefrence",href:"https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar.readonly&response_type=code&client_id=909752796516-tai4asagcrndntlnrr9t1vutbrnak2fp.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Fdevelopers.google.com%2Foauthplayground",children:["Add Reminder",Object(y.jsx)(ce.a,{})]})]}),k&&Object(y.jsx)("div",{className:"comments-section",children:Object(J.a)(b).map((function(e){return Object(y.jsx)(ae,{comment:e},e._id)}))}),Object(y.jsxs)("div",{className:"add-comment",children:[Object(y.jsxs)("div",{className:"user-info",children:[Object(y.jsx)("img",{id:"user-profile",alt:"u-profile",src:c.profilePic}),c.name]}),Object(y.jsxs)("div",{className:"comment-adding-area",children:[Object(y.jsx)("input",{className:"comment-box",placeholder:"Click here to write a comment",size:65,value:I,onChange:function(e){return E(e.target.value)}}),Object(y.jsx)(K.a,{color:"secondary",variant:"contained",onClick:function(){return ue.apply(this,arguments)},children:"post"})]})]})]},t._id)}var se=c(200),re=c.n(se),ie=c(409);function oe(){var e=D.a.create({baseURL:A,headers:{Authorization:localStorage.getItem("auth_token")}}),t=Object(a.useState)(!0),c=Object(f.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),i=Object(f.a)(r,2),o=i[0],l=i[1],u=Object(O.c)((function(e){return e.user})),d=Object(m.f)(),j=Object(a.useState)(!1),b=Object(f.a)(j,2),p=b[0],h=b[1],x=Object(a.useState)(""),v=Object(f.a)(x,2),g=v[0],k=v[1],N=Object(a.useState)(void 0),w=Object(f.a)(N,2),C=w[0],I=w[1],E=function(){h(!1)};function P(){return F.apply(this,arguments)}function F(){return(F=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(A+"/posts");case 2:t=e.sent,l(t.data),s(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return T.apply(this,arguments)}function T(){return(T=Object(_.a)(S.a.mark((function t(c){var a,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),(a=new FormData).append("desc",g),a.append("postImage",C),t.next=6,e.post(A+"/posts/",a);case 6:n=t.sent,E(),P(),console.log(n.data);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!1===u.auth?d.push("/"):P()}),[]);var L=Object(y.jsxs)("div",{className:"poster",children:[Object(y.jsxs)("form",{onSubmit:z,children:[Object(y.jsx)("textarea",{id:"description",type:"text",placeholder:"Enter some description here",value:g,onChange:function(e){return k(e.target.value)}}),Object(y.jsx)("input",{id:"upload",type:"file",onChange:function(e){console.log(e.target.files[0]),I(e.target.files[0])}})]}),Object(y.jsx)("button",{className:"btn-upload",type:"submit",onClick:z,children:"Upload Post"}),Object(y.jsx)("button",{className:"btn-cancel",type:"button",onClick:E,children:"Cancel"})]});return Object(y.jsxs)("div",{children:[n?Object(y.jsx)(V.a,{color:"secondary"}):Object(y.jsx)("div",{className:"main-posts-area",children:function(){var e=Object(J.a)(o);return(e=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))).map((function(e){return Object(y.jsx)(ne,{post:e},e._id)}))}()}),Object(y.jsxs)("div",{className:"add-post-btn",title:"Add a new POST",children:[Object(y.jsx)(ie.a,{color:"primary","aria-label":"add",onClick:function(){h(!0)},children:Object(y.jsx)(re.a,{})}),Object(y.jsx)(Q.a,{open:p,onClose:E,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:L})]})]})}var le=c(201),ue=(c(365),c(366),c(410)),de=c(202),je=c(92);function be(e){var t=e.id,c=e.image,n=e.name,s=e.description,r=e.price,i=e.countInStock,o=Object(a.useState)(!1),l=Object(f.a)(o,2),u=l[0],d=l[1],b=Object(O.c)((function(e){return e.cart.cart}));Object(a.useEffect)((function(){b.includes(t)?d(!0):d(!1)}),[]);var p=Object(O.b)();return Object(y.jsxs)("div",{className:"prod-card",children:[Object(y.jsx)("div",{className:"prod-image",children:Object(y.jsx)("img",{className:"fit-pic",src:A+"/"+c,alt:"image_prod"})}),Object(y.jsxs)("div",{className:"prod-details",children:[Object(y.jsx)("div",{className:"prod-name",children:n}),Object(y.jsx)("div",{className:"prod-description",children:Object(y.jsx)("ul",{children:s.split(".").map((function(e,t){return Object(y.jsx)("li",{children:e},t)}))})})]}),Object(y.jsxs)("div",{className:"cart-fxns",children:[Object(y.jsxs)("div",{className:"price",children:["Price: \u20b9",r]}),Object(y.jsxs)("div",{className:"in-stock",children:["In Stock : ",i]}),Object(y.jsx)("button",{className:"a2c",onClick:function(){return function(e){b.includes(e)?je.b.error("item already in cart"):(p(j({id:e})),d(!0),je.b.success("item added to cart"))}(t)},children:u?Object(y.jsx)(de.a,{size:25}):Object(y.jsx)(ue.a,{})})]}),Object(y.jsx)(je.a,{toastOptions:{success:{style:{background:"green"}},error:{style:{background:"yellow"}}}})]})}var pe=c(204),Oe=c(203);function me(){var e=Object(O.c)((function(e){return e.cart.cart})),t=Object(O.b)(),c=Object(a.useState)([]),n=Object(f.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!0),o=Object(f.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(""),b=Object(f.a)(d,2),p=b[0],m=b[1],h=D.a.create({baseURL:A,headers:{Authorization:localStorage.getItem("auth_token")}});function x(){return(x=Object(_.a)(S.a.mark((function e(){var c,a,n,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/orders");case 2:c=e.sent,a=Object(le.a)(c.data.doc);try{for(a.s();!(n=a.n()).done;)s=n.value,t(j({id:s.productId._id}))}catch(r){a.e(r)}finally{a.f()}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(_.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r([]),e.next=3,D.a.get(t);case 3:c=e.sent,r(c.data),u(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){x.apply(this,arguments)}(),v(A+"/products")}),[]),Object(y.jsx)("div",{className:"main-landing-page",children:Object(y.jsxs)("div",{className:"store-main",children:[Object(y.jsxs)("div",{className:"store-nav",children:[Object(y.jsxs)("div",{className:"search",children:[Object(y.jsx)("div",{className:"search-icon",children:Object(y.jsx)(Oe.a,{size:25})}),Object(y.jsx)("input",{id:"search-bar",placeholder:"search",value:p,onChange:function(e){return function(e){u(!0),m(e.target.value),p?setTimeout((function(){v(A+"/search?key="+p)}),500):v(A+"/products")}(e)}})]}),Object(y.jsxs)("div",{className:"cart-stats",children:[Object(y.jsx)(pe.a,{size:50}),Object(y.jsx)("div",{className:"items-in-cart",children:e.length||"0"})]})]}),Object(y.jsx)("div",{className:"store",children:Object(y.jsxs)("div",{className:"products-page",children:[l&&Object(y.jsx)(H.a,{color:"secondary"}),function(){var e=Object(J.a)(s);return(e=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))).map((function(e){return Object(y.jsx)(be,{id:e._id,name:e.name,image:e.productImage,description:e.description,price:e.price,countInStock:e.countInStock},e._id)}))}()]})})]})})}c(367);var he=c(411);function fe(e){var t=e.id,c=D.a.create({baseURL:A,headers:{Authorization:localStorage.getItem("auth_token")}}),n=Object(O.c)((function(e){return e.user})),s=Object(a.useState)(""),r=Object(f.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)(""),u=Object(f.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(""),p=Object(f.a)(b,2),m=p[0],h=p[1],x=Object(a.useState)(""),v=Object(f.a)(x,2),g=v[0],k=v[1],N=Object(a.useState)({}),w=Object(f.a)(N,2),C=w[0],I=w[1],E=Object(a.useState)(),P=Object(f.a)(E,2),F=P[0],z=P[1],T=Object(a.useState)(!1),L=Object(f.a)(T,2),R=L[0],M=L[1],U=function(){M(!1)};function B(){return(B=Object(_.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:d,about:g,occupation:m},e.next=3,c.patch("/user/"+i,t);case 3:a=e.sent,console.table(a),q(i),U();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){q(t)}),[]);var G=Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsx)("div",{className:"n-r",children:Object(y.jsx)(he.a,{label:"Display Name",variant:"outlined",value:d,onChange:function(e){return j(e.target.value)}})}),Object(y.jsx)("div",{className:"a-r",children:Object(y.jsx)(he.a,{label:"About",variant:"outlined",value:g,onChange:function(e){return k(e.target.value)}})}),Object(y.jsx)("div",{className:"o-r",children:Object(y.jsx)(he.a,{label:"Occupation",variant:"outlined",value:m,onChange:function(e){return h(e.target.value)}})}),Object(y.jsxs)("div",{className:"btn-r",children:[Object(y.jsx)(K.a,{variant:"outlined",color:"primary",onClick:function(){return B.apply(this,arguments)},children:"Save"}),Object(y.jsx)(K.a,{variant:"outlined",color:"secondary",onClick:U,children:"Cancel"})]})]})});function q(e){return H.apply(this,arguments)}function H(){return(H=Object(_.a)(S.a.mark((function e(t){var c,a,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(A+"/user/"+t);case 2:s=e.sent,I(s.data),o(s.data._id),j(s.data.name),k(null===(c=s.data)||void 0===c?void 0:c.about),h(null===(a=s.data)||void 0===a?void 0:a.occupation),console.table(C,n),setTimeout((function(){n.id===s.data._id?z(!0):z(!1)}),200);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"main-view",children:Object(y.jsxs)("div",{className:"profile",children:[Object(y.jsx)("img",{src:C.profilePic,alt:"profile_Pic"}),Object(y.jsxs)("div",{className:"profile-info",children:[Object(y.jsxs)("div",{className:"user-name",children:["Display Name: ",Object(y.jsx)("div",{className:"name-r",children:C.name})]}),Object(y.jsxs)("div",{className:"user-about",children:["About You: ",Object(y.jsx)("div",{className:"about-r",children:C.about})]}),Object(y.jsxs)("div",{className:"user-occupation",children:["Your Occupation: ",Object(y.jsx)("div",{className:"occupation-r",children:C.occupation})]})]}),F&&Object(y.jsxs)("div",{className:"editing-r",children:[Object(y.jsx)(K.a,{onClick:function(){M(!0)},children:"Edit Profile"}),Object(y.jsx)(Q.a,{open:R,onClose:U,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:G})]})]})})}function xe(){var e=Object(m.g)().search.split("=")[1];function t(){return(t=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post("http://localhost:3100/calendar",{code:t});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(e){t.apply(this,arguments)}(e)}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("h1",{children:e})})}var ve=function(){function e(){var e=Object(m.h)().id;return Object(y.jsx)(fe,{id:e})}return Object(y.jsxs)(h.a,{children:[Object(y.jsx)(N,{}),Object(y.jsxs)(m.c,{children:[Object(y.jsx)(m.a,{exact:!0,path:"/",children:Object(y.jsx)(Y,{})}),Object(y.jsx)(m.a,{path:"/games",children:Object(y.jsx)(Z,{})}),Object(y.jsx)(m.a,{path:"/social",children:Object(y.jsx)(oe,{})}),Object(y.jsx)(m.a,{path:"/store",children:Object(y.jsx)(me,{})}),Object(y.jsx)(m.a,{path:"/user/:id",children:Object(y.jsx)(e,{})}),Object(y.jsx)(m.a,{path:"/auth/success",children:Object(y.jsx)(xe,{})})]})]})},ge=Object(r.a)({reducer:p});s.a.render(Object(y.jsx)(O.a,{store:ge,children:Object(y.jsx)(ve,{})}),document.getElementById("root"))}},[[368,1,2]]]);
//# sourceMappingURL=main.cac54f39.chunk.js.map